<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ó–∞—è–≤–∫–∞ –Ω–∞ —É–±–æ—Ä–∫—É</title>

<style>
body {
  font-family: Arial, sans-serif;
  background:#f2f4f7;
  padding:20px;
}

.container {
  max-width:900px;
  margin:auto;
  background:#ffffff;
  padding:25px;
  border-radius:14px;
  box-shadow:0 10px 25px rgba(0,0,0,0.08);
}

h1 {
  text-align:center;
  margin-bottom:20px;
}

.section {
  margin-top:25px;
  padding:18px;
  border-radius:10px;
  background:#fafafa;
  border:1px solid #ddd;
}

.section h2 {
  margin:0 0 10px 0;
  padding:6px 10px;
  background:#2d89ef;
  color:#fff;
  border-radius:6px;
  font-size:16px;
}

label {
  font-size:14px;
  margin-top:10px;
}

input, select, textarea {
  width:100%;
  box-sizing:border-box;
  padding:9px;
  border-radius:6px;
  border:1px solid #ccc;
  margin-top:4px;
}

textarea {
  min-height:70px;
}

.inline {
  display:flex;
  gap:12px;
}

.inline > div {
  flex:1;
}

.checkbox-group label {
  display:flex;
  flex-direction:column-reverse;
  margin-top:8px;
  font-weight:normal;
}

button {
  margin-top:25px;
  padding:14px;
  font-size:16px;
  border:none;
  border-radius:8px;
  cursor:pointer;
  background:#2d89ef;
  color:#fff;
  width:100%;
}

.copy-btn {
  background:#4caf50;
  margin-top:10px;
}

.result {
  margin-top:25px;
  background:#f1f1f1;
  padding:15px;
  border-radius:8px;
  white-space:pre-wrap;
  font-family: monospace;
}
</style>
</head>

<body>

<div class="container">
<h1>üßπ –ó–∞—è–≤–∫–∞ –Ω–∞ —É–±–æ—Ä–∫—É</h1>

<div class="section">
<h2>–û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h2>

<label>–¢–∏–ø —É–±–æ—Ä–∫–∏</label>
<select id="type">
  <option>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∞—è</option>
  <option>–ì–µ–Ω–µ—Ä–∞–ª—å–Ω–∞—è</option>
  <option>–ü–æ—Å–ª–µ —Ä–µ–º–æ–Ω—Ç–∞</option>
  <option>–•–∏–º—á–∏—Å—Ç–∫–∞</option>
</select>

<div class="inline">
  <div>
    <label>–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è</label>
    <input type="datetime-local" id="datetime">
  </div>
  <div>
    <label>–ü–ª–æ—â–∞–¥—å (–º¬≤)</label>
    <input type="number" id="area">
  </div>
</div>
</div>

<div class="section">
<h2>–ö–ª–∏–µ–Ω—Ç</h2>
<label>–ò–º—è</label><input id="clientName">
<label>–¢–µ–ª–µ—Ñ–æ–Ω</label><input id="clientPhone">
<label>–ê–¥—Ä–µ—Å</label><input id="clientAddress">
<label>–ö–≤–∞—Ä—Ç–∏—Ä–∞</label><input id="clientFlat">
</div>

<div class="section">
<h2>–§–∏–Ω–∞–Ω—Å—ã</h2>
<label>–°—É–º–º–∞ –∑–∞–∫–∞–∑–∞ (‚ÇΩ)</label>
<input type="number" id="total" oninput="calcPay()">

<label>–ó–∞—Ä–ø–ª–∞—Ç–∞ –º–∞—Å—Ç–µ—Ä—É</label>
<select id="payType" onchange="calcPay()">
  <option value="60">60 / 40</option>
  <option value="70">70 / 30</option>
  <option value="fixed">–§–∏–∫—Å</option>
</select>

<input type="number" id="masterPay" placeholder="–ó–∞—Ä–ø–ª–∞—Ç–∞ –º–∞—Å—Ç–µ—Ä—É">
</div>

<div class="section">
<h2>–†–∞–±–æ—Ç—ã</h2>

<label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
<textarea id="works"></textarea>

<label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–≤–æ—Ä–æ–∫</label>
<input type="number" id="windowsCount">

<div class="checkbox-group" id="windows">
<label><input type="checkbox" value="–û–∫–Ω–∞ —Å –æ–¥–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã">–û–∫–Ω–∞ —Å –æ–¥–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã</label>
<label><input type="checkbox" value="–û–∫–Ω–∞ —Å –¥–≤—É—Ö —Å—Ç–æ—Ä–æ–Ω">–û–∫–Ω–∞ —Å –¥–≤—É—Ö —Å—Ç–æ—Ä–æ–Ω</label>
</div>

<div class="checkbox-group" id="dust">
<label><input type="checkbox" value="–û–±–µ—Å–ø—ã–ª–∏–≤–∞–Ω–∏–µ –ø–æ—Ç–æ–ª–∫–∞">–û–±–µ—Å–ø—ã–ª–∏–≤–∞–Ω–∏–µ –ø–æ—Ç–æ–ª–∫–∞</label>
<label><input type="checkbox" value="–û–±–µ—Å–ø—ã–ª–∏–≤–∞–Ω–∏–µ —Å—Ç–µ–Ω">–û–±–µ—Å–ø—ã–ª–∏–≤–∞–Ω–∏–µ —Å—Ç–µ–Ω</label>
</div>

<div class="checkbox-group" id="cabinets">
<label><input type="checkbox" value="–®–∫–∞—Ñ—ã —Å–Ω–∞—Ä—É–∂–∏">–®–∫–∞—Ñ—ã —Å–Ω–∞—Ä—É–∂–∏</label>
<label><input type="checkbox" value="–®–∫–∞—Ñ—ã –≤–Ω—É—Ç—Ä–∏">–®–∫–∞—Ñ—ã –≤–Ω—É—Ç—Ä–∏</label>
</div>

<div class="checkbox-group" id="tech">
<label><input type="checkbox" value="–î—É—Ö–æ–≤–æ–π —à–∫–∞—Ñ">–î—É—Ö–æ–≤–æ–π —à–∫–∞—Ñ</label>
<label><input type="checkbox" value="–ü–ª–∏—Ç–∞">–ü–ª–∏—Ç–∞</label>
<label><input type="checkbox" value="–•–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫">–•–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫</label>
<label><input type="checkbox" value="–í—ã—Ç—è–∂–∫–∞">–í—ã—Ç—è–∂–∫–∞</label>
<label><input type="checkbox" value="–ú–∏–∫—Ä–æ–≤–æ–ª–Ω–æ–≤–∫–∞">–ú–∏–∫—Ä–æ–≤–æ–ª–Ω–æ–≤–∫–∞</label>
</div>

<label>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è</label>
<textarea id="extra"></textarea>
</div>

<button onclick="send()">üì® –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ Telegram</button>
<button class="copy-btn" onclick="copyText()">üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ</button>

<div id="result" class="result"></div>

</div>

<script>
function calcPay() {
  const total = Number(document.getElementById('total').value) || 0;
  const type = document.getElementById('payType').value;
  const out = document.getElementById('masterPay');
  if(type === '60') out.value = Math.round(total * 0.6);
  else if(type === '70') out.value = Math.round(total * 0.7);
}

function getChecked(id) {
  return [...document.querySelectorAll('#'+id+' input:checked')].map(e => '‚Ä¢ ' + e.value).join('\n');
}

function send() {
  const id = 'CLN-' + Date.now().toString().slice(-6);
  const extra = document.getElementById('extra').value || '‚Äî –Ω–µ—Ç';

  const text =
`üßπ –ó–ê–ö–ê–ó –ù–ê –£–ë–û–†–ö–£ ‚Ññ${id}

üìÖ ${document.getElementById('datetime').value}
üìè –ü–ª–æ—â–∞–¥—å: ${document.getElementById('area').value} –º¬≤
üßπ –í–∏–¥ —É–±–æ—Ä–∫–∏: ${document.getElementById('type').value}
üí∞ –°—É–º–º–∞: ${document.getElementById('total').value} ‚ÇΩ

üë§ –ö–õ–ò–ï–ù–¢
–ò–º—è: ${clientName.value}
–¢–µ–ª–µ—Ñ–æ–Ω: ${clientPhone.value}
–ê–¥—Ä–µ—Å: ${clientAddress.value}, –∫–≤. ${clientFlat.value}

ü™ü –û–ö–ù–ê
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–≤–æ—Ä–æ–∫: ${windowsCount.value}
${getChecked('windows')}

üßπ –†–ê–ë–û–¢–´
${getChecked('dust')}
${getChecked('cabinets')}
${getChecked('tech')}

üí¨ –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û
${extra}

üí∞ –ú–∞—Å—Ç–µ—Ä—É: ${masterPay.value} ‚ÇΩ

üì∑ –§–æ—Ç–æ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω—ã –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º –≤ —á–∞—Ç–µ`;

  document.getElementById('result').innerText = text;
  window.location.href = 'tg://msg?text=' + encodeURIComponent(text);
}

function copyText() {
  navigator.clipboard.writeText(document.getElementById('result').innerText);
  alert('–°–æ–æ–±—â–µ–Ω–∏–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ');
}
</script>

</body>
</html>
