<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–§–æ—Ä–º–∞ –∑–∞—è–≤–∫–∏ –∫–ª–∏–Ω–∏–Ω–≥</title>

<style>
body {
  font-family: Arial, sans-serif;
  background:#f4f6f9;
  padding:20px;
}

.container {
  max-width:900px;
  margin:auto;
  background:#fff;
  padding:20px;
  border-radius:12px;
  box-shadow:0 0 10px rgba(0,0,0,0.1);
}

h1,h2,h3 {
  margin-top:0;
  text-align:center;
}

h2 {
  background:#2d89ef;
  color:#fff;
  padding:6px;
  border-radius:5px;
  margin-top:20px;
}

.section {
  border:1px solid #ccc;
  padding:15px;
  border-radius:8px;
  margin-top:15px;
  background:#fafafa;
}

.label-input {
  display:flex;
  flex-direction:column;
  margin-top:10px;
}

input, select, textarea {
  padding:8px;
  border-radius:5px;
  border:1px solid #ccc;
  width:100%;
  box-sizing:border-box;
  height:38px;
  font-size:14px;
}

textarea {
  min-height:60px;
  height:auto;
}

.inline {
  display:flex;
  gap:10px;
}

.inline > div {
  flex:1;
  display:flex;
  flex-direction:column;
}

.checkbox-group {
  display:flex;
  flex-direction:column;
  margin-top:5px;
}

.checkbox-group label {
  font-weight:normal;
  margin-top:5px;
}

button {
  margin-top:15px;
  padding:12px;
  font-size:16px;
  cursor:pointer;
  border:none;
  background:#2d89ef;
  color:#fff;
  border-radius:8px;
  width:100%;
}

.copy-btn {
  background:#4CAF50;
}

.result {
  margin-top:20px;
  background:#f1f1f1;
  padding:15px;
  border-radius:8px;
  white-space:pre-wrap;
  font-family: monospace;
  font-size:14px;
  line-height:1.4;
}
</style>
</head>

<body>

<div class="container">
<h1>üßπ –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏</h1>

<!-- –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ -->
<div class="section">
<h2>–û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h2>

<div class="label-input">
<label>–¢–∏–ø —É–±–æ—Ä–∫–∏</label>
<select id="type">
  <option>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∞—è</option>
  <option>–ì–µ–Ω–µ—Ä–∞–ª—å–Ω–∞—è</option>
  <option>–ü–æ—Å–ª–µ —Ä–µ–º–æ–Ω—Ç–∞</option>
  <option>–•–∏–º—á–∏—Å—Ç–∫–∞</option>
</select>
</div>

<div class="inline">
  <div class="label-input">
    <label>–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è</label>
    <input type="datetime-local" id="datetime">
  </div>
  <div class="label-input">
    <label>–ü–ª–æ—â–∞–¥—å (–º¬≤)</label>
    <input type="number" id="area">
  </div>
</div>
</div>

<!-- –ó–∞–∫–∞–∑—á–∏–∫ -->
<div class="section">
<h2>–î–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—á–∏–∫–∞</h2>
<div class="label-input"><label>–ò–º—è</label><input id="customerName"></div>
<div class="label-input"><label>–¢–µ–ª–µ—Ñ–æ–Ω</label><input id="customerPhone"></div>
<div class="label-input"><label>–ê–¥—Ä–µ—Å</label><input id="customerAddress"></div>
<div class="label-input"><label>–ö–≤–∞—Ä—Ç–∏—Ä–∞</label><input id="customerFlat"></div>
</div>

<!-- –§–∏–Ω–∞–Ω—Å—ã -->
<div class="section">
<h2>–§–∏–Ω–∞–Ω—Å—ã</h2>
<div class="label-input"><label>–°—É–º–º–∞ –∑–∞–∫–∞–∑–∞</label><input type="number" id="total"></div>

<div class="label-input">
<label>–ó–∞—Ä–ø–ª–∞—Ç–∞ –º–∞—Å—Ç–µ—Ä–∞–º</label>
<select id="masterPayType" onchange="calculateMasterPay()">
  <option value="60">60/40</option>
  <option value="70">70/30</option>
  <option value="fixed">–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è</option>
</select>
<input type="number" id="masterPay" placeholder="–°—É–º–º–∞ –º–∞—Å—Ç–µ—Ä—É">
</div>
</div>

<!-- –†–∞–±–æ—Ç—ã -->
<div class="section">
<h2>–û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç</h2>
<textarea id="works"></textarea>

<h3>–ú—ã—Ç—å—ë –æ–∫–æ–Ω</h3>
<input type="number" id="windowCount" placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–≤–æ—Ä–æ–∫">
<div class="checkbox-group" id="windowsGroup">
  <label><input type="checkbox" value="–û–¥–Ω–∞ —Å—Ç–æ—Ä–æ–Ω–∞"> –û–¥–Ω–∞ —Å—Ç–æ—Ä–æ–Ω–∞</label>
  <label><input type="checkbox" value="–° –¥–≤—É—Ö —Å—Ç–æ—Ä–æ–Ω"> –° –¥–≤—É—Ö —Å—Ç–æ—Ä–æ–Ω</label>
</div>

<h3>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è</h3>
<textarea id="extra"></textarea>
</div>

<button onclick="send()">üì® –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ Telegram</button>
<button class="copy-btn" onclick="copyResult()">üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ</button>

<div id="out" class="result"></div>
</div>

<script>
function calculateMasterPay() {
  const total = +document.getElementById('total').value || 0;
  const type = document.getElementById('masterPayType').value;
  const pay = document.getElementById('masterPay');

  if (type === '60') pay.value = Math.round(total * 0.6);
  else if (type === '70') pay.value = Math.round(total * 0.7);
}

function getCheckedValues(id) {
  return [...document.querySelectorAll(`#${id} input:checked`)].map(i => i.value);
}

function send() {
  calculateMasterPay();

  const windows = getCheckedValues('windowsGroup');

  const text =
`üßπ –ó–ê–ö–ê–ó –ù–ê –£–ë–û–†–ö–£

üìÖ –î–∞—Ç–∞: ${document.getElementById('datetime').value}
üìè –ü–ª–æ—â–∞–¥—å: ${document.getElementById('area').value} –º¬≤
üßπ –¢–∏–ø: ${document.getElementById('type').value}
üí∞ –°—É–º–º–∞: ${document.getElementById('total').value} ‚ÇΩ

üë§ –ö–õ–ò–ï–ù–¢
${document.getElementById('customerName').value}
${document.getElementById('customerPhone').value}
${document.getElementById('customerAddress').value}, –∫–≤. ${document.getElementById('customerFlat').value}

ü™ü –û–ö–ù–ê
–°—Ç–≤–æ—Ä–æ–∫: ${document.getElementById('windowCount').value}
${windows.join('\n') || '‚Äî'}

üí¨ –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ü–û–ñ–ï–õ–ê–ù–ò–Ø
${document.getElementById('extra').value || '‚Äî'}

üí∞ –ú–ê–°–¢–ï–†–£
${document.getElementById('masterPay').value} ‚ÇΩ
`;

  document.getElementById('out').innerText = text;
  window.location.href = 'tg://send?text=' + encodeURIComponent(text);
}

function copyResult() {
  const el = document.getElementById('out');
  navigator.clipboard.writeText(el.innerText);
  alert('–°–æ–æ–±—â–µ–Ω–∏–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ');
}
</script>

</body>
</html>
