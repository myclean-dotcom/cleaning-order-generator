<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ó–∞—è–≤–∫–∞ –∫–ª–∏–Ω–∏–Ω–≥</title>
<style>
body { font-family: Arial, sans-serif; background:#f4f6f9; padding:20px; }
.container { max-width:900px; margin:auto; background:#fff; padding:20px; border-radius:12px; }
label { display:block; margin-top:10px; }
input, select, textarea { width:100%; padding:8px; margin-top:5px; }
.inline { display:flex; gap:10px; }
.inline > div { flex:1; }
button { margin-top:20px; padding:12px; font-size:16px; cursor:pointer; }
.result { margin-top:20px; background:#f1f1f1; padding:15px; border-radius:8px; white-space:pre-wrap; }
</style>
</head>

<body>
<div class="container">
<h1>üßπ –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏</h1>

<label>–¢–∏–ø —É–±–æ—Ä–∫–∏</label>
<select id="type">
  <option>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∞—è</option>
  <option>–ì–µ–Ω–µ—Ä–∞–ª—å–Ω–∞—è</option>
  <option>–ü–æ—Å–ª–µ —Ä–µ–º–æ–Ω—Ç–∞</option>
  <option>–•–∏–º—á–∏—Å—Ç–∫–∞</option>
</select>

<div class="inline">
  <div>
    <label>–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è</label>
    <input type="datetime-local" id="datetime">
  </div>
  <div>
    <label>–ü–ª–æ—â–∞–¥—å (–º¬≤)</label>
    <input type="number" id="area">
  </div>
</div>

<label>–ì–æ—Ä–æ–¥</label>
<select id="city">
  <option>–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫</option>
</select>

<label>–ê–¥—Ä–µ—Å</label>
<input id="address">

<label>–°—É–º–º–∞ –∑–∞–∫–∞–∑–∞ (‚ÇΩ)</label>
<input type="number" id="total">

<label>–û–ø–ª–∞—Ç–∞ –º–∞—Å—Ç–µ—Ä—É (‚ÇΩ)</label>
<input type="number" id="masterPay">

<label>–û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç</label>
<textarea id="works"></textarea>

<button onclick="send()">üì® –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>

<div id="out" class="result"></div>
</div>

<script>
function generateOrderId() {
  return 'CLN-' + Date.now().toString().slice(-6);
}

function send() {
  const orderId = generateOrderId();

  // üî¥ –í–ê–ñ–ù–û: –≤—Å—Ç–∞–≤–∏—à—å –°–í–û–Æ —Å—Å—ã–ª–∫—É Google Form –Ω–∏–∂–µ
  const googleFormBase =
    'https://docs.google.com/forms/d/e/FORM_ID/viewform?usp=pp_url';

  const formLink =
    googleFormBase +
    '&entry.111=' + encodeURIComponent(orderId) +
    '&entry.222=' + encodeURIComponent(address.value) +
    '&entry.333=' + encodeURIComponent(type.value) +
    '&entry.444=' + encodeURIComponent(datetime.value);

  const text =
`üßπ –ó–ê–Ø–í–ö–ê ‚Ññ ${orderId}

–¢–∏–ø: ${type.value}
–î–∞—Ç–∞: ${datetime.value}
–ì–æ—Ä–æ–¥: ${city.value}
–ê–¥—Ä–µ—Å: ${address.value}
–ü–ª–æ—â–∞–¥—å: ${area.value} –º¬≤

üí∞ –°—É–º–º–∞: ${total.value} ‚ÇΩ
üë§ –ú–∞—Å—Ç–µ—Ä—É: ${masterPay.value} ‚ÇΩ

üìã –†–∞–±–æ—Ç—ã:
${works.value}

üì∑ –§–æ—Ç–æ: –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω—ã –Ω–∏–∂–µ –≤ —á–∞—Ç–µ

üëâ –í–ó–Ø–¢–¨ –ó–ê–Ø–í–ö–£ (–∞–Ω–æ–Ω–∏–º–Ω–æ):
${formLink}
`;

  out.innerText = text;
  window.open('https://t.me/share/url?text=' + encodeURIComponent(text));
}
</script>
</body>
</html>
