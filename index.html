<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–§–æ—Ä–º–∞ –∑–∞—è–≤–∫–∏ –∫–ª–∏–Ω–∏–Ω–≥</title>
<style>
body { font-family: Arial, sans-serif; background:#f4f6f9; padding:20px; }
.container { max-width:900px; margin:auto; background:#fff; padding:20px; border-radius:12px; box-shadow:0 0 10px rgba(0,0,0,0.1);}
h1,h2,h3 { margin-top:0; text-align:center; }
h2 { background:#2d89ef; color:#fff; padding:6px; border-radius:5px; margin-top:20px; }
.section { border:1px solid #ccc; padding:15px; border-radius:8px; margin-top:15px; background:#fafafa;}
.label-input { display:flex; flex-direction:column; margin-top:10px; }
input, select, textarea { padding:8px; border-radius:5px; border:1px solid #ccc; width:100%; box-sizing:border-box; height:38px; }
textarea { min-height:60px; }
.inline { display:flex; gap:10px; }
.inline > div { flex:1; display:flex; flex-direction:column; }
.checkbox-group { display:flex; flex-direction:column; margin-top:5px; }
.checkbox-group label { display:flex; flex-direction:column-reverse; font-weight:normal; margin-top:5px; }
button { margin-top:20px; padding:12px; font-size:16px; cursor:pointer; border:none; background:#2d89ef; color:#fff; border-radius:8px; width:100%; }
.result { margin-top:20px; background:#f1f1f1; padding:15px; border-radius:8px; white-space:pre-wrap; font-family: monospace; }
</style>
</head>
<body>

<div class="container">
<h1>üßπ –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏</h1>

<!-- –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ -->
<div class="section">
<h2>–û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h2>
<div class="label-input">
<label>–¢–∏–ø —É–±–æ—Ä–∫–∏</label>
<select id="type">
  <option>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∞—è</option>
  <option>–ì–µ–Ω–µ—Ä–∞–ª—å–Ω–∞—è</option>
  <option>–ü–æ—Å–ª–µ —Ä–µ–º–æ–Ω—Ç–∞</option>
  <option>–•–∏–º—á–∏—Å—Ç–∫–∞</option>
</select>
</div>

<div class="inline">
  <div class="label-input">
    <label>–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è</label>
    <input type="datetime-local" id="datetime">
  </div>
  <div class="label-input">
    <label>–ü–ª–æ—â–∞–¥—å (–º¬≤)</label>
    <input type="number" id="area">
  </div>
</div>

<div class="label-input">
<label>–ì–æ—Ä–æ–¥</label>
<select id="city">
  <option>–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫</option>
</select>
</div>
</div>

<!-- –î–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—á–∏–∫–∞ -->
<div class="section">
<h2>–î–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—á–∏–∫–∞</h2>
<div class="label-input"><label>–ò–º—è –∑–∞–∫–∞–∑—á–∏–∫–∞</label><input id="customerName"></div>
<div class="label-input"><label>–¢–µ–ª–µ—Ñ–æ–Ω</label><input id="customerPhone"></div>
<div class="label-input"><label>–ê–¥—Ä–µ—Å –∫–≤–∞—Ä—Ç–∏—Ä—ã</label><input id="customerAddress"></div>
<div class="label-input"><label>–ù–æ–º–µ—Ä –∫–≤–∞—Ä—Ç–∏—Ä—ã</label><input id="customerFlat"></div>
</div>

<!-- –§–∏–Ω–∞–Ω—Å—ã -->
<div class="section">
<h2>–§–∏–Ω–∞–Ω—Å—ã</h2>
<div class="label-input"><label>–°—É–º–º–∞ –∑–∞–∫–∞–∑–∞ (‚ÇΩ)</label><input type="number" id="total"></div>
<div class="label-input"><label>–ó–∞—Ä–ø–ª–∞—Ç–∞ –º–∞—Å—Ç–µ—Ä–∞–º</label>
<select id="masterPayType" onchange="calculateMasterPay()">
  <option value="60">60/40</option>
  <option value="70">70/30</option>
  <option value="fixed">–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è</option>
</select>
<input type="number" id="masterPay" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É, –µ—Å–ª–∏ —Ñ–∏–∫—Å">
</div>
</div>

<!-- –û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç -->
<div class="section">
<h2>–û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç</h2>
<div class="label-input"><label>–û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç</label><textarea id="works"></textarea></div>

<h3>–ú—ã—Ç—å—ë –æ–∫–æ–Ω</h3>
<div class="label-input">
  <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–≤–æ—Ä–æ–∫</label>
  <input type="number" id="windowCount" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–≤–æ—Ä–æ–∫">
</div>
<div class="checkbox-group">
  <label><input type="checkbox" id="windows1side"> –¢–æ–ª—å–∫–æ —Å –æ–¥–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã</label>
  <label><input type="checkbox" id="windows2side"> –° –¥–≤—É—Ö —Å—Ç–æ—Ä–æ–Ω</label>
</div>

<h3>–û–±–µ—Å–ø—ã–ª–∏–≤–∞–Ω–∏–µ</h3>
<div class="checkbox-group">
  <label><input type="checkbox" id="dustCeiling"> –ü–æ—Ç–æ–ª–æ–∫</label>
  <label><input type="checkbox" id="dustWalls"> –°—Ç–µ–Ω—ã</label>
</div>

<h3>–ú—ã—Ç—å—ë —à–∫–∞—Ñ–æ–≤</h3>
<div class="checkbox-group">
  <label><input type="checkbox" id="cabinetsOutside"> –°–Ω–∞—Ä—É–∂–∏</label>
  <label><input type="checkbox" id="cabinetsInside"> –°–Ω–∞—Ä—É–∂–∏ –∏ –≤–Ω—É—Ç—Ä–∏</label>
</div>

<h3>–ú—ã—Ç—å—ë –±—ã—Ç–æ–≤–æ–π —Ç–µ—Ö–Ω–∏–∫–∏</h3>
<div class="checkbox-group">
  <label><input type="checkbox" id="oven"> –î—É—Ö–æ–≤–æ–π —à–∫–∞—Ñ</label>
  <label><input type="checkbox" id="stove"> –ü–ª–∏—Ç–∞</label>
  <label><input type="checkbox" id="fridge"> –•–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫</label>
  <label><input type="checkbox" id="hood"> –í—ã—Ç—è–∂–∫–∞</label>
  <label><input type="checkbox" id="microwave"> –ú–∏–∫—Ä–æ–≤–æ–ª–Ω–æ–≤–∫–∞</label>
  <label><input type="checkbox" id="kettle"> –ß–∞–π–Ω–∏–∫</label>
  <label><input type="checkbox" id="coffee"> –ö–æ—Ñ–µ–º–∞—à–∏–Ω–∞</label>
  <label><input type="checkbox" id="dishwasher"> –ü–æ—Å—É–¥–æ–º–æ–π–∫–∞</label>
</div>

<h3>–í–∞–Ω–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞</h3>
<div class="checkbox-group">
  <label><input type="checkbox" id="tiles"> –ú—ã—Ç—å—ë –∫–∞—Ñ–µ–ª—è</label>
  <label><input type="checkbox" id="sanitary"> –°–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∞</label>
  <label><input type="checkbox" id="bath"> –î—É—à–µ–≤–∞—è/–≤–∞–Ω–Ω–∞</label>
</div>
</div>

<!-- –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ -->
<div class="section">
<h2>–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</h2>
<div class="checkbox-group">
  <label><input type="checkbox" id="ladder"> –°—Ç—Ä–µ–º—è–Ω–∫–∞</label>
  <label><input type="checkbox" id="vacuum"> –ü—ã–ª–µ—Å–æ—Å</label>
  <label><input type="checkbox" id="steam"> –ü–∞—Ä–æ–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä</label>
  <label><input type="checkbox" id="windowWasher"> –ú–æ–π—â–∏–∫ –æ–∫–æ–Ω</label>
  <label><input type="checkbox" id="bucket"> –í–µ–¥—Ä–æ</label>
  <label><input type="checkbox" id="mops"> –ú–æ–ø—ã</label>
  <label><input type="checkbox" id="mopHolder"> –î–µ—Ä–∂–∞—Ç–µ–ª—å –º–æ–ø–æ–≤</label>
</div>
</div>

<!-- –•–∏–º–∏—è -->
<div class="section">
<h2>–•–∏–º–∏—è</h2>
<div class="checkbox-group">
  <label><input type="checkbox" id="universal"> –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –º–æ—é—â–µ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ</label>
  <label><input type="checkbox" id="degreaser"> –°—Ä–µ–¥—Å—Ç–≤–æ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∂–∏—Ä–∞</label>
  <label><input type="checkbox" id="scaleRemover"> –°—Ä–µ–¥—Å—Ç–≤–æ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –Ω–∞–ª—ë—Ç–∞</label>
  <label><input type="checkbox" id="sanitaryCleaner"> –°—Ä–µ–¥—Å—Ç–≤–æ –¥–ª—è —Å–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∏</label>
  <label><input type="checkbox" id="constructionCleaner"> –°—Ä–µ–¥—Å—Ç–≤–æ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–π</label>
  <label><input type="checkbox" id="antiscotch"> –ê–Ω—Ç–∏—Å–∫–æ—Ç—á</label>
</div>
<div class="label-input"><label>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è</label><textarea id="extra"></textarea></div>
</div>

<button onclick="send()">üì® –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É –≤ Telegram</button>
<div id="out" class="result"></div>

<script>
function calculateMasterPay() {
  const total = parseFloat(document.getElementById('total').value)||0;
  const type = document.getElementById('masterPayType').value;
  const masterInput = document.getElementById('masterPay');
  if(type==='60') masterInput.value=Math.round(total*0.6);
  else if(type==='70') masterInput.value=Math.round(total*0.7);
  else masterInput.value='';
}

function generateOrderId() { return 'CLN-'+Date.now().toString().slice(-6); }

function send() {
  const orderId = generateOrderId();
  calculateMasterPay();

  function getCheckedList(groupId){
    const group = document.querySelectorAll(`#${groupId} input[type=checkbox]:checked`);
    return Array.from(group).map(c=>c.parentNode.innerText);
  }

  const worksList = [];
  const windowsList = getCheckedList('windows1side') + getCheckedList('windows2side');
  const dustList = getCheckedList('dustCeiling') + getCheckedList('dustWalls');
  const cabinetsList = getCheckedList('cabinetsOutside') + getCheckedList('cabinetsInside');
  const techList = getCheckedList('oven') + getCheckedList('stove') + getCheckedList('fridge') + getCheckedList('hood') + getCheckedList('microwave') + getCheckedList('kettle') + getCheckedList('coffee') + getCheckedList('dishwasher');
  const equipmentList = getCheckedList('ladder') + getCheckedList('vacuum') + getCheckedList('steam') + getCheckedList('windowWasher') + getCheckedList('bucket') + getCheckedList('mops') + getCheckedList('mopHolder');
  const chemList = getCheckedList('universal') + getCheckedList('degreaser') + getCheckedList('scaleRemover') + getCheckedList('sanitaryCleaner') + getCheckedList('constructionCleaner') + getCheckedList('antiscotch');

  const text = 
`üßπ –ó–ê–ö–ê–ó –ù–ê –£–ë–û–†–ö–£ ‚Ññ${orderId}

üìÖ –î–∞—Ç–∞: ${document.getElementById('datetime').value.split('T')[0]}
‚è∞ –í—Ä–µ–º—è: ${document.getElementById('datetime').value.split('T')[1]}
üìè –ü–ª–æ—â–∞–¥—å: ${document.getElementById('area').value} –º¬≤
üßπ –í–∏–¥ —É–±–æ—Ä–∫–∏: ${document.getElementById('type').value}
üí∞ –°—É–º–º–∞: ${document.getElementById('total').value} —Ä—É–±.

üë§ –ö–õ–ò–ï–ù–¢:
–ò–º—è: ${document.getElementById('customerName').value}
–¢–µ–ª–µ—Ñ–æ–Ω: ${document.getElementById('customerPhone').value}
–ê–¥—Ä–µ—Å: ${document.getElementById('customerAddress').value}
–ö–≤–∞—Ä—Ç–∏—Ä–∞: ${document.getElementById('customerFlat').value}

üí¨ –û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç:
${document.getElementById('works').value}

ü™ü –ú—ã—Ç—å—ë –æ–∫–æ–Ω:
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–≤–æ—Ä–æ–∫: ${document.getElementById('windowCount').value}
${getCheckedList('windows1side').concat(getCheckedList('windows2side')).join('\n')}

üßπ –û–±–µ—Å–ø—ã–ª–∏–≤–∞–Ω–∏–µ:
${getCheckedList('dustCeiling').concat(getCheckedList('dustWalls')).join('\n')}

üö™ –®–∫–∞—Ñ—ã:
${getCheckedList('cabinetsOutside').concat(getCheckedList('cabinetsInside')).join('\n')}

üîå –ë—ã—Ç–æ–≤–∞—è —Ç–µ—Ö–Ω–∏–∫–∞:
${getCheckedList('oven').concat(getCheckedList('stove')).concat(getCheckedList('fridge')).concat(getCheckedList('hood')).concat(getCheckedList('microwave')).concat(getCheckedList('kettle')).concat(getCheckedList('coffee')).concat(getCheckedList('dishwasher')).join('\n')}

üõÅ –í–∞–Ω–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞:
${getCheckedList('tiles').concat(getCheckedList('sanitary')).concat(getCheckedList('bath')).join('\n')}

üõ† –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ:
${getCheckedList('ladder').concat(getCheckedList('vacuum')).concat(getCheckedList('steam')).concat(getCheckedList('windowWasher')).concat(getCheckedList('bucket')).concat(getCheckedList('mops')).concat(getCheckedList('mopHolder')).join('\n')}

üß¥ –•–∏–º–∏—è:
${getCheckedList('universal').concat(getCheckedList('degreaser')).concat(getCheckedList('scaleRemover')).concat(getCheckedList('sanitaryCleaner')).concat(getCheckedList('constructionCleaner')).concat(getCheckedList('antiscotch')).join('\n')}

üí∞ –ú–∞—Å—Ç–µ—Ä—É: ${document.getElementById('masterPay').value} —Ä—É–±.

üì∑ –§–æ—Ç–æ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω—ã –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º –≤ —á–∞—Ç–µ
`;

  document.getElementById('out').innerText = text;
  window.open('https://t.me/share/url?text='+encodeURIComponent(text));
}
</script>

</body>
</html>
